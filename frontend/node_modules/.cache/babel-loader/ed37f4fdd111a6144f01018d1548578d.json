{"ast":null,"code":"import { requestAuthToken } from \"../services/auth\";\nimport axiosCall from \"./axios\";\n/**\n * @description login util function \n */\n\nexport const loginUtil = async (email, password) => {\n  try {\n    const {\n      data\n    } = await axiosCall.post('/auth/login', {\n      email,\n      password\n    });\n\n    if (data.status !== 'success') {\n      alert('Unable to login');\n      return;\n    }\n\n    localStorage.setItem('token', data.accessToken);\n  } catch (error) {\n    console.log(error);\n  }\n};\n/**\n * Login user\n */\n\nexport const login = async accessToken => {\n  if (accessToken === localStorage.getItem('accessToken')) {\n    return;\n  }\n\n  localStorage.setItem('accessToken', accessToken);\n  window.location.href = \"/app\";\n};\n/**\n * @description save user\n * @param {*} userDetails \n */\n\nexport const saveUser = async userDetails => {\n  localStorage.setItem('userData', JSON.stringify(userDetails));\n};","map":{"version":3,"names":["requestAuthToken","axiosCall","loginUtil","email","password","data","post","status","alert","localStorage","setItem","accessToken","error","console","log","login","getItem","window","location","href","saveUser","userDetails","JSON","stringify"],"sources":["/Users/somto/Desktop/personal/shop/src/utils/auth.js"],"sourcesContent":["import { requestAuthToken } from \"../services/auth\"\nimport axiosCall from \"./axios\"\n\n/**\n * @description login util function \n */\nexport const loginUtil = async (email, password) => {\n   try {\n     const {data} = await  axiosCall.post('/auth/login', {\n         email,\n         password\n     })\n\n\n     if (data.status!=='success') {\n        alert('Unable to login')\n        return\n     }\n\n    localStorage.setItem('token',data.accessToken)\n   } catch (error) {\n    console.log(error)\n   }\n}\n\n\n\n\n/**\n * Login user\n */\nexport const login = async (accessToken) => {\n    if ((accessToken === localStorage.getItem('accessToken'))) {\n        return\n    }\n\n\n    localStorage.setItem('accessToken', accessToken)\n    window.location.href = \"/app\"\n\n}\n\n/**\n * @description save user\n * @param {*} userDetails \n */\nexport const saveUser = async (userDetails) => {\n    localStorage.setItem('userData', JSON.stringify(userDetails))\n}"],"mappings":"AAAA,SAASA,gBAAT,QAAiC,kBAAjC;AACA,OAAOC,SAAP,MAAsB,SAAtB;AAEA;AACA;AACA;;AACA,OAAO,MAAMC,SAAS,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;EACjD,IAAI;IACF,MAAM;MAACC;IAAD,IAAS,MAAOJ,SAAS,CAACK,IAAV,CAAe,aAAf,EAA8B;MAChDH,KADgD;MAEhDC;IAFgD,CAA9B,CAAtB;;IAMA,IAAIC,IAAI,CAACE,MAAL,KAAc,SAAlB,EAA6B;MAC1BC,KAAK,CAAC,iBAAD,CAAL;MACA;IACF;;IAEFC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BL,IAAI,CAACM,WAAlC;EACA,CAbD,CAaE,OAAOC,KAAP,EAAc;IACfC,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACA;AACH,CAjBM;AAsBP;AACA;AACA;;AACA,OAAO,MAAMG,KAAK,GAAG,MAAOJ,WAAP,IAAuB;EACxC,IAAKA,WAAW,KAAKF,YAAY,CAACO,OAAb,CAAqB,aAArB,CAArB,EAA2D;IACvD;EACH;;EAGDP,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,WAApC;EACAM,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,MAAvB;AAEH,CATM;AAWP;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,WAAP,IAAuB;EAC3CZ,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCY,IAAI,CAACC,SAAL,CAAeF,WAAf,CAAjC;AACH,CAFM"},"metadata":{},"sourceType":"module"}