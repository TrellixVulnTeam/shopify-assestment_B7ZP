{"ast":null,"code":"import axiosCall from \"./axios\";\n/**\n * @description login util function \n */\n\nexport const loginUtil = async (email, password) => {\n  try {\n    const {\n      data\n    } = await axiosCall.post('/auth/login', {\n      email,\n      password\n    });\n\n    if (data.status !== 'success') {\n      alert('Unable to login,check email and password');\n      return;\n    }\n\n    login(data.accessToken);\n  } catch (error) {\n    alert('Unable to login,check email and password');\n  }\n};\n/**\n * Login user\n */\n\nexport const login = async accessToken => {\n  if (accessToken === localStorage.getItem('accessToken')) {\n    return;\n  }\n\n  localStorage.setItem('accessToken', accessToken);\n  window.location.href = \"/app\";\n};\n/**\n * @description save user\n * @param {*} userDetails \n */\n\nexport const saveUser = async userDetails => {\n  localStorage.setItem('userData', JSON.stringify(userDetails));\n};","map":{"version":3,"names":["axiosCall","loginUtil","email","password","data","post","status","alert","login","accessToken","error","localStorage","getItem","setItem","window","location","href","saveUser","userDetails","JSON","stringify"],"sources":["/Users/somto/Desktop/personal/shop/src/utils/auth.js"],"sourcesContent":["import axiosCall from \"./axios\"\n\n/**\n * @description login util function \n */\nexport const loginUtil = async (email, password) => {\n   try {\n     const {data} = await  axiosCall.post('/auth/login', {\n         email,\n         password\n     })\n\n     if (data.status!=='success') {\n        alert('Unable to login,check email and password')\n        return\n     }\n\n     login(data.accessToken)\n    \n   } catch (error) {\n    alert('Unable to login,check email and password')\n   }\n}\n\n\n\n\n/**\n * Login user\n */\nexport const login = async (accessToken) => {\n    if ((accessToken === localStorage.getItem('accessToken'))) {\n        return\n    }\n\n\n    localStorage.setItem('accessToken', accessToken)\n    window.location.href = \"/app\"\n\n}\n\n/**\n * @description save user\n * @param {*} userDetails \n */\nexport const saveUser = async (userDetails) => {\n    localStorage.setItem('userData', JSON.stringify(userDetails))\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,SAAtB;AAEA;AACA;AACA;;AACA,OAAO,MAAMC,SAAS,GAAG,OAAOC,KAAP,EAAcC,QAAd,KAA2B;EACjD,IAAI;IACF,MAAM;MAACC;IAAD,IAAS,MAAOJ,SAAS,CAACK,IAAV,CAAe,aAAf,EAA8B;MAChDH,KADgD;MAEhDC;IAFgD,CAA9B,CAAtB;;IAKA,IAAIC,IAAI,CAACE,MAAL,KAAc,SAAlB,EAA6B;MAC1BC,KAAK,CAAC,0CAAD,CAAL;MACA;IACF;;IAEDC,KAAK,CAACJ,IAAI,CAACK,WAAN,CAAL;EAED,CAbD,CAaE,OAAOC,KAAP,EAAc;IACfH,KAAK,CAAC,0CAAD,CAAL;EACA;AACH,CAjBM;AAsBP;AACA;AACA;;AACA,OAAO,MAAMC,KAAK,GAAG,MAAOC,WAAP,IAAuB;EACxC,IAAKA,WAAW,KAAKE,YAAY,CAACC,OAAb,CAAqB,aAArB,CAArB,EAA2D;IACvD;EACH;;EAGDD,YAAY,CAACE,OAAb,CAAqB,aAArB,EAAoCJ,WAApC;EACAK,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,MAAvB;AAEH,CATM;AAWP;AACA;AACA;AACA;;AACA,OAAO,MAAMC,QAAQ,GAAG,MAAOC,WAAP,IAAuB;EAC3CP,YAAY,CAACE,OAAb,CAAqB,UAArB,EAAiCM,IAAI,CAACC,SAAL,CAAeF,WAAf,CAAjC;AACH,CAFM"},"metadata":{},"sourceType":"module"}